@charset "UTF-8";
/* ================================


/* ---------- Variables ---------- */
:root {
  --overlay-size: 700px;
  --board-gap: 8px;
  --board-pad: 12px;
  --card-radius: 8px;
  --card-text: #ffffff;
  --veil-gold: rgba(255, 209, 102, 0.15);
  --veil-gold-strong: rgba(255, 209, 102, 0.25);
  --scene-safe-left: 25%;
  /* Contrôles typographiques des cartes */
  --card-text-size: 1em;
  --card-text-weight: 500;
}

.gb-card__content {
  position: relative; /* nécessaire pour le plan z avec la citrouille */
  display: grid; /* tu voulais place-items: center -> nécessite grid */
  place-items: center;
  z-index: 1;
  width: 100%;
  height: 100%;
  text-align: center;
  word-break: break-word;
  font-size: var(--card-text-size, clamp(12px, 2.6cqi, 18px));
  font-weight: var(--card-text-weight, 400);
  line-height: 1.2;
}
.gb-card__content.is-placeholder {
  font-style: italic;
  color: rgba(255, 255, 255, 0.7);
}

/* Citrouille SVG inline (pour pseudo-élément back face) */
/* ---------- Reset boutons/inputs light ---------- */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html, body {
  height: 100%;
}

body.gb-app {
  margin: 0;
  background: #000000;
  color: #ffffff;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  line-height: 1.35;
}

/* ---------- Layout ---------- */
.gb-layout {
  display: flex;
  min-height: 100vh;
  align-items: flex-start; /* important pour sticky et le centrage écran */
}

.gb-panel {
  width: 560px;
  max-width: 100%;
  padding: 16px 16px 24px;
  border-right: 1px solid rgba(255, 255, 255, 0.12);
  overflow: auto;
}
.gb-panel .gb-title {
  margin: 0;
  font-size: 20px;
  font-weight: 700;
  letter-spacing: 0.3px;
}
.gb-panel .gb-panel__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 12px;
}

.gb-section {
  margin: 16px 0;
}
.gb-section--grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;
}

.gb-field {
  display: grid;
  gap: 6px;
}
.gb-field--row {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
}

/* Groupe sliders typographiques côte à côte */
.gb-typo-row {
  align-items: center;
  gap: 10px;
}

.gb-slider-group {
  display: grid;
  grid-template-columns: 1fr auto;
  grid-template-rows: auto auto;
  align-items: center;
  gap: 6px 8px;
  flex: 1 1 220px;
  max-width: 320px;
  padding: 8px 10px;
  border: 1px solid rgba(255, 255, 255, 0.18);
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.05);
}
.gb-slider-group .gb-label {
  font-size: 14px; /* comme les boutons */
  grid-column: 1/-1; /* label au-dessus, sur toute la largeur */
}

.gb-input--range {
  width: 100%;
  grid-column: 1; /* barre à gauche */
}

.gb-slider-value {
  grid-column: 2; /* valeur à droite de la barre */
  justify-self: end;
  font-size: 18px;
  font-weight: 600;
  min-width: 1.5em;
  text-align: right;
}

.gb-label {
  font-size: 12px;
  opacity: 0.85;
}
.gb-label--inline {
  margin-right: 6px;
}

.gb-input,
.gb-select,
.gb-btn {
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.18);
  background: rgba(255, 255, 255, 0.05);
  color: #ffffff;
  padding: 8px 10px;
  font-size: 14px;
}

/* Style du placeholder de l'éditeur (texte par défaut "Objectif") */
.gb-editor .gb-input--text::placeholder {
  font-style: italic;
  color: rgba(255, 255, 255, 0.4);
}

.gb-select {
  background-color: #000000; /* fond noir */
  color: #ffffff; /* texte blanc */
  border: 1px solid rgba(255, 255, 255, 0.25);
  appearance: none; /* optionnel : retire le style système */
}

.gb-select option {
  background-color: #000000;
  color: #ffffff;
}

.gb-input:focus,
.gb-select:focus,
.gb-btn:focus {
  outline: 2px solid rgba(255, 209, 102, 0.6);
  outline-offset: 1px;
}

.gb-btn {
  cursor: pointer;
  transition: background 0.2s ease, border-color 0.2s ease;
}
.gb-btn:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.3);
}
.gb-btn--primary {
  border-color: #ff8c00;
  background: rgba(255, 140, 0, 0.15);
}
.gb-btn--primary:hover {
  background: rgba(255, 140, 0, 0.25);
}
.gb-btn--ghost {
  background: transparent;
}

.gb-editor {
  display: grid;
  gap: 8px;
}

.gb-editor__row {
  display: grid;
  grid-template-columns: 28px 1fr;
  gap: 8px;
  align-items: center;
  padding: 8px;
  border: 1px dashed rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.03);
}
.gb-editor__row .gb-editor__index {
  width: 28px;
  height: 28px;
  border-radius: 6px;
  display: grid;
  place-items: center;
  background: rgba(255, 255, 255, 0.06);
  font-size: 12px;
}
.gb-editor__row .gb-input--text {
  width: 100%;
}

/* ---------- Overlay (colonne droite) ---------- */
.gb-overlay {
  position: sticky;
  top: 0;
  align-self: flex-start;
  height: 100vh; /* occupe toute la hauteur de l'écran */
  flex: 1;
  display: grid;
  place-items: center; /* centre vertical + horizontal */
  padding: 20px;
  overflow: hidden; /* pas de scroll à droite */
}

.gb-overlay__stage {
  position: relative;
  /* largeur contrôlée par --overlay-size, hauteur auto via aspect-ratio */
  width: var(--overlay-size);
  height: auto;
  aspect-ratio: 4/3;
  /* image non déformée (4/3), ne pas écraser avec cover derrière */
  background: url("../img/jack-o-lantern-gettyimages-162252827.PNG") center/contain no-repeat;
  border-radius: 12px;
  display: block;
  perspective: 1000px; /* 3D pour le flip */
}

/* ---------- Board ---------- */
/* Grille transparente incrustée par-dessus la scène, à droite */
.gb-board {
  position: absolute;
  right: var(--board-pad);
  left: auto;
  /* carré, centré verticalement, sans débordement */
  /* largeur = min(largeur dispo à droite, hauteur dispo) */
  width: min(100% - var(--scene-safe-left) - var(--board-pad) * 2, 100% - var(--board-pad) * 2);
  max-height: calc(100% - var(--board-pad) * 2);
  aspect-ratio: 1/1; /* carré garanti */
  height: auto; /* laisse l'aspect-ratio gérer la hauteur */
  /* centrage vertical */
  /* alignement en haut */
  top: var(--board-pad);
  transform: none;
  /* espace entre bordure externe et cases */
  padding: var(--board-pad);
  display: grid;
  gap: var(--board-gap);
  /* transparent (uniquement les bordures visibles) */
  background: transparent;
  border: 2px solid #ffd166;
  border-radius: 10px;
  box-shadow: none;
}

@keyframes card-complete-pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(255, 209, 102, 0), 0 0 0 rgba(255, 209, 102, 0);
  }
  50% {
    box-shadow: 0 0 0 2px rgba(255, 209, 102, 0.55) inset, 0 0 14px rgba(255, 209, 102, 0.35);
  }
  100% {
    box-shadow: 0 0 0 2px rgba(255, 209, 102, 0.55) inset, 0 0 14px rgba(255, 209, 102, 0.35);
  }
}
/* Effet plein plateau: 3 pulsations puis état final conservé */
.gb-board.gb-complete .gb-card {
  animation: card-complete-pulse 1200ms ease-in-out 3 forwards;
}

@media (prefers-reduced-motion: reduce) {
  .gb-board.gb-complete .gb-card {
    animation: none;
    box-shadow: 0 0 0 2px rgba(255, 209, 102, 0.55) inset, 0 0 14px rgba(255, 209, 102, 0.35);
  }
}
/* En plateau complet, on retire le voile par carte pour ne garder que le voile global */
.gb-board.gb-complete .gb-card.veil-persist::before {
  background: transparent;
}

/* Colonnes en fonction de data-size */
.gb-board[data-size="3"] {
  grid-template-columns: repeat(3, 1fr);
}

.gb-board[data-size="4"] {
  grid-template-columns: repeat(4, 1fr);
}

.gb-board[data-size="5"] {
  grid-template-columns: repeat(5, 1fr);
}

/* ---------- Carte (case) ---------- */
.gb-card {
  -webkit-appearance: none;
  appearance: none;
  border: 1px solid rgba(255, 255, 255, 0.18);
  padding: 0;
  margin: 0;
  width: 100%;
  height: 100%;
  position: relative;
  overflow: hidden;
  cursor: pointer;
  border-radius: var(--card-radius);
  /* perspective locale pour un rendu 3D fiable du flip */
  perspective: 1000px;
  transition: box-shadow 0.2s ease, filter 0.2s ease;
  box-shadow: none;
  background: transparent;
}
.gb-card:hover {
  filter: brightness(1.08);
}
.gb-card.is-checked .gb-card__inner {
  transform: rotateY(180deg);
}

/* Inner 3D qui porte la rotation */
.gb-card__inner {
  position: relative;
  display: block;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transition: transform 0.4s ease;
}

/* Voile persistant (doré léger) quand la case fait partie d’une ligne validée */
.gb-card.veil-persist::before {
  content: "";
  position: absolute;
  inset: 0;
  background: var(--veil-gold); /* léger */
  pointer-events: none;
}

/* Balayage paillettes (anim ponctuelle) — confiné à la case */
.gb-card::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0;
  background: radial-gradient(2px 2px at 20% 30%, rgba(255, 255, 255, 0.55), rgba(255, 255, 255, 0) 60%), radial-gradient(2px 2px at 60% 70%, rgba(255, 255, 255, 0.45), rgba(255, 255, 255, 0) 60%), radial-gradient(2px 2px at 80% 40%, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0) 60%), linear-gradient(90deg, rgba(255, 209, 102, 0) 0%, rgba(255, 209, 102, 0.35) 40%, rgba(255, 209, 102, 0.6) 50%, rgba(255, 209, 102, 0.35) 60%, rgba(255, 209, 102, 0) 100%);
  transform: translateX(-120%);
}

/* Directions d’animation (selon ligne/colonne/diagonale) */
.gb-card.sweep-x::after {
  animation: card-sweep-x 900ms ease-out forwards;
}

.gb-card.sweep-y::after {
  animation: card-sweep-y 900ms ease-out forwards;
}

.gb-card.sweep-d1::after {
  animation: card-sweep-d1 1000ms ease-out forwards;
} /* \ */
.gb-card.sweep-d2::after {
  animation: card-sweep-d2 1000ms ease-out forwards;
} /* / */
/* Keyframes confinées à la case */
@keyframes card-sweep-x {
  0% {
    opacity: 0;
    transform: translateX(-120%);
  }
  10% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translateX(120%);
  }
}
@keyframes card-sweep-y {
  0% {
    opacity: 0;
    transform: translateY(-120%);
  }
  10% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translateY(120%);
  }
}
@keyframes card-sweep-d1 {
  0% {
    opacity: 0;
    transform: translate(-120%, -120%);
  }
  10% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translate(120%, 120%);
  }
}
@keyframes card-sweep-d2 {
  0% {
    opacity: 0;
    transform: translate(120%, -120%);
  }
  10% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translate(-120%, 120%);
  }
}
/* Faces */
.gb-card__face {
  position: absolute;
  inset: 0;
  border-radius: var(--card-radius);
  display: grid;
  place-items: center;
  padding: 10px;
  color: var(--card-text);
  background: transparent;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transform: rotateY(0deg);
  outline: 1px solid rgba(255, 255, 255, 0.08);
  outline-offset: -2px;
}
.gb-card__face--front {
  transform: rotateY(0deg) translateZ(0.01px);
}
.gb-card__face--back {
  transform: rotateY(180deg) translateZ(0.01px);
  background: transparent;
  /* citrouille en pseudo-élément, translucide */
}
.gb-card__face--back::after {
  content: "";
  z-index: 2;
  position: absolute;
  inset: 10% 10%;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><g fill='%23ff8c00'><path d='M28 8c-2 0-3 3-3 5 0 1 0 2 1 3-10 2-18 9-18 21 0 12 10 19 23 19h2c13 0 23-7 23-19 0-12-8-19-18-21 1-1 1-2 1-3 0-2-1-5-3-5s-3 2-5 2-3-2-5-2z'/></g><g fill='%23ffcc80'><path d='M21 30l6 3-6 3-3-3zM43 30l-6 3 6 3 3-3zM26 42c2 1 4 2 6 2s4-1 6-2l-1 5c-2 1-3 1-5 1s-3 0-5-1z'/></g><g fill='%23ff8c00'><path d='M24 50c4 2 12 2 16 0 2-1 4 1 3 3-1 1-7 3-11 3s-10-2-11-3c-1-2 1-4 3-3z'/></g></svg>");
  background-repeat: no-repeat;
  background-position: center;
  background-size: 70% 70%;
  opacity: 0.45;
  pointer-events: none;
  filter: drop-shadow(0 2px 2px rgba(0, 0, 0, 0.5));
}

/* Contenu texte / image */
/* Quand toute la grille est complétée, accentuer le voile général */
.gb-board.gb-complete {
  box-shadow: 0 0 0 2px rgba(255, 209, 102, 0.45) inset, 0 0 18px rgba(255, 209, 102, 0.25);
  border-color: #ffd166;
}
.gb-board.gb-complete .gb-card {
  filter: saturate(1.05);
}

/* ---------- Aide ---------- */
.gb-footer .gb-hint {
  font-size: 12px;
  opacity: 0.8;
  margin: 12px 0 0;
}

/* ---------- Utilitaires ---------- */
.u-hidden {
  display: none !important;
}/*# sourceMappingURL=styles.css.map */